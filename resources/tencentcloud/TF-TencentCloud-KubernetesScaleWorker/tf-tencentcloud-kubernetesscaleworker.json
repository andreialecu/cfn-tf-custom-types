{
    "typeName": "TF::TencentCloud::KubernetesScaleWorker",
    "description": "Provide a resource to increase instance to cluster\n\n~> **NOTE:** To use the custom Kubernetes component startup parameter function (parameter `extra_args`), you need to submit a ticket for application.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/tencentcloud/TF-TencentCloud-KubernetesScaleWorker/docs/README.md",
    "definitions": {
        "LabelsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "WorkerInstancesListDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "FailedReason": {
                    "type": "string"
                },
                "InstanceId": {
                    "type": "string"
                },
                "InstanceRole": {
                    "type": "string"
                },
                "InstanceState": {
                    "type": "string"
                },
                "LanIp": {
                    "type": "string"
                }
            }
        },
        "DataDiskDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "DiskSize": {
                    "type": "number",
                    "description": "Volume of disk in GB. Default is `0`."
                },
                "DiskType": {
                    "type": "string",
                    "description": "Types of disk, available values: `CLOUD_PREMIUM` and `CLOUD_SSD`."
                },
                "SnapshotId": {
                    "type": "string",
                    "description": "Data disk snapshot ID."
                }
            },
            "required": []
        },
        "WorkerConfigDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AvailabilityZone": {
                    "type": "string",
                    "description": "Indicates which availability zone will be used."
                },
                "CamRoleName": {
                    "type": "string",
                    "description": "CAM role name authorized to access."
                },
                "Count": {
                    "type": "number",
                    "description": "Number of cvm."
                },
                "DesiredPodNum": {
                    "type": "number",
                    "description": "Indicate to set desired pod number in node. valid when enable_customized_pod_cidr=true, and it override `[globe_]desired_pod_num` for current node. Either all the fields `desired_pod_num` or none."
                },
                "DisasterRecoverGroupIds": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "Disaster recover groups to which a CVM instance belongs. Only support maximum 1."
                },
                "EnhancedMonitorService": {
                    "type": "boolean",
                    "description": "To specify whether to enable cloud monitor service. Default is TRUE."
                },
                "EnhancedSecurityService": {
                    "type": "boolean",
                    "description": "To specify whether to enable cloud security service. Default is TRUE."
                },
                "Hostname": {
                    "type": "string",
                    "description": "The host name of the attached instance. Dot (.) and dash (-) cannot be used as the first and last characters of HostName and cannot be used consecutively. Windows example: The length of the name character is [2, 15], letters (capitalization is not restricted), numbers and dashes (-) are allowed, dots (.) are not supported, and not all numbers are allowed. Examples of other types (Linux, etc.): The character length is [2, 60], and multiple dots are allowed. There is a segment between the dots. Each segment allows letters (with no limitation on capitalization), numbers and dashes (-)."
                },
                "ImgId": {
                    "type": "string",
                    "description": "The valid image id, format of img-xxx."
                },
                "InstanceChargeType": {
                    "type": "string",
                    "description": "The charge type of instance. Valid values are `PREPAID` and `POSTPAID_BY_HOUR`. The default is `POSTPAID_BY_HOUR`. Note: TencentCloud International only supports `POSTPAID_BY_HOUR`, `PREPAID` instance will not terminated after cluster deleted, and may not allow to delete before expired."
                },
                "InstanceChargeTypePrepaidPeriod": {
                    "type": "number",
                    "description": "The tenancy (time unit is month) of the prepaid instance. NOTE: it only works when instance_charge_type is set to `PREPAID`. Valid values are `1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, `9`, `10`, `11`, `12`, `24`, `36`."
                },
                "InstanceChargeTypePrepaidRenewFlag": {
                    "type": "string",
                    "description": "Auto renewal flag. Valid values: `NOTIFY_AND_AUTO_RENEW`: notify upon expiration and renew automatically, `NOTIFY_AND_MANUAL_RENEW`: notify upon expiration but do not renew automatically, `DISABLE_NOTIFY_AND_MANUAL_RENEW`: neither notify upon expiration nor renew automatically. Default value: `NOTIFY_AND_MANUAL_RENEW`. If this parameter is specified as `NOTIFY_AND_AUTO_RENEW`, the instance will be automatically renewed on a monthly basis if the account balance is sufficient. NOTE: it only works when instance_charge_type is set to `PREPAID`."
                },
                "InstanceName": {
                    "type": "string",
                    "description": "Name of the CVMs."
                },
                "InstanceType": {
                    "type": "string",
                    "description": "Specified types of CVM instance."
                },
                "InternetChargeType": {
                    "type": "string",
                    "description": "Charge types for network traffic. Available values include `TRAFFIC_POSTPAID_BY_HOUR`."
                },
                "InternetMaxBandwidthOut": {
                    "type": "number",
                    "description": "Max bandwidth of Internet access in Mbps. Default is 0."
                },
                "KeyIds": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "ID list of keys, should be set if `password` not set."
                },
                "Password": {
                    "type": "string",
                    "description": "Password to access, should be set if `key_ids` not set."
                },
                "PublicIpAssigned": {
                    "type": "boolean",
                    "description": "Specify whether to assign an Internet IP address."
                },
                "SecurityGroupIds": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "Security groups to which a CVM instance belongs."
                },
                "SubnetId": {
                    "type": "string",
                    "description": "Private network ID."
                },
                "SystemDiskSize": {
                    "type": "number",
                    "description": "Volume of system disk in GB. Default is `50`."
                },
                "SystemDiskType": {
                    "type": "string",
                    "description": "System disk type. For more information on limits of system disk types, see [Storage Overview](https://intl.cloud.tencent.com/document/product/213/4952). Valid values: `LOCAL_BASIC`: local disk, `LOCAL_SSD`: local SSD disk, `CLOUD_BASIC`: HDD cloud disk, `CLOUD_SSD`: SSD, `CLOUD_PREMIUM`: Premium Cloud Storage. NOTE: `LOCAL_BASIC` and `LOCAL_SSD` are deprecated."
                },
                "UserData": {
                    "type": "string",
                    "description": "ase64-encoded User Data text, the length limit is 16KB."
                },
                "DataDisk": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/DataDiskDefinition"
                    },
                    "maxItems": 11
                }
            },
            "required": [
                "InstanceType",
                "SubnetId"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "ClusterId": {
            "type": "string",
            "description": "ID of the cluster."
        },
        "DesiredPodNum": {
            "type": "number",
            "description": "Indicate to set desired pod number in current node. Valid when the cluster enable customized pod cidr."
        },
        "DockerGraphPath": {
            "type": "string",
            "description": "Docker graph path. Default is `/var/lib/docker`."
        },
        "ExtraArgs": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "Custom parameter information related to the node."
        },
        "Id": {
            "type": "string"
        },
        "Labels": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/LabelsDefinition"
            },
            "description": "Labels of kubernetes scale worker created nodes."
        },
        "MountTarget": {
            "type": "string",
            "description": "Mount target. Default is not mounting."
        },
        "Unschedulable": {
            "type": "number",
            "description": "Sets whether the joining node participates in the schedule. Default is '0'. Participate in scheduling."
        },
        "WorkerInstancesList": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/WorkerInstancesListDefinition"
            }
        },
        "DataDisk": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/DataDiskDefinition"
            },
            "maxItems": 11
        },
        "WorkerConfig": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/WorkerConfigDefinition"
            },
            "maxItems": 1,
            "minItems": 1
        }
    },
    "additionalProperties": false,
    "required": [
        "ClusterId"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id",
        "/properties/WorkerInstancesList"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    },
    "writeOnlyProperties": [
        "/definitions/WorkerConfigDefinition/Password"
    ]
}