{
    "typeName": "TF::Vault::TransitSecretBackendKey",
    "description": "Creates an Encryption Keyring on a Transit Secret Backend for Vault.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/vault/TF-Vault-TransitSecretBackendKey/docs/README.md",
    "definitions": {
        "KeysDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AllowPlaintextBackup": {
            "type": "boolean",
            "description": "Enables taking backup of entire keyring in the plaintext format. Once set, this cannot be disabled.\n* Refer to Vault API documentation on key backups for more information: [Backup Key](https://www.vaultproject.io/api-docs/secret/transit#backup-key)."
        },
        "Backend": {
            "type": "string",
            "description": "The path the transit secret backend is mounted at, with no leading or trailing `/`s."
        },
        "ConvergentEncryption": {
            "type": "boolean",
            "description": "Whether or not to support convergent encryption, where the same plaintext creates the same ciphertext. This requires `derived` to be set to `true`."
        },
        "DeletionAllowed": {
            "type": "boolean",
            "description": "Specifies if the keyring is allowed to be deleted. Must be set to 'true' before terraform will be able to destroy keys."
        },
        "Derived": {
            "type": "boolean",
            "description": "Specifies if key derivation is to be used. If enabled, all encrypt/decrypt requests to this key must provide a context which is used for key derivation."
        },
        "Exportable": {
            "type": "boolean",
            "description": "Enables keys to be exportable. This allows for all valid private keys in the keyring to be exported. Once set, this cannot be disabled."
        },
        "Id": {
            "type": "string"
        },
        "Keys": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "array",
                "insertionOrder": true,
                "items": {
                    "$ref": "#/definitions/KeysDefinition"
                }
            }
        },
        "LatestVersion": {
            "type": "number"
        },
        "MinAvailableVersion": {
            "type": "number"
        },
        "MinDecryptionVersion": {
            "type": "number",
            "description": "Minimum key version to use for decryption."
        },
        "MinEncryptionVersion": {
            "type": "number",
            "description": "Minimum key version to use for encryption."
        },
        "Name": {
            "type": "string",
            "description": "The name to identify this key within the backend. Must be unique within the backend."
        },
        "SupportsDecryption": {
            "type": "boolean"
        },
        "SupportsDerivation": {
            "type": "boolean"
        },
        "SupportsEncryption": {
            "type": "boolean"
        },
        "SupportsSigning": {
            "type": "boolean"
        },
        "Type": {
            "type": "string",
            "description": "Specifies the type of key to create. The currently-supported types are: `aes128-gcm96`, `aes256-gcm96` (default), `chacha20-poly1305`, `ed25519`, `ecdsa-p256`, `ecdsa-p384`, `ecdsa-p521`, `rsa-2048`, `rsa-3072` and `rsa-4096`.\n* Refer to the Vault documentation on transit key types for more information: [Key Types](https://www.vaultproject.io/docs/secrets/transit#key-types)."
        }
    },
    "additionalProperties": false,
    "required": [
        "Backend",
        "Name"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id",
        "/properties/Keys",
        "/properties/LatestVersion",
        "/properties/MinAvailableVersion",
        "/properties/SupportsDecryption",
        "/properties/SupportsDerivation",
        "/properties/SupportsEncryption",
        "/properties/SupportsSigning"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}