{
    "typeName": "TF::NSXT::FirewallSection",
    "description": "This resource provides a way to configure a firewall section on the NSX manager. A firewall section is a collection of firewall rules that are grouped together.\nOrder of firewall sections can be controlled with 'insert_before' attribute.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/nsxt/TF-NSXT-FirewallSection/docs/README.md",
    "definitions": {
        "AppliedToDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TargetId": {
                    "type": "string"
                },
                "TargetType": {
                    "type": "string"
                }
            },
            "required": []
        },
        "RuleDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Action": {
                    "type": "string"
                },
                "Description": {
                    "type": "string"
                },
                "DestinationsExcluded": {
                    "type": "boolean"
                },
                "Direction": {
                    "type": "string"
                },
                "Disabled": {
                    "type": "boolean"
                },
                "DisplayName": {
                    "type": "string"
                },
                "IpProtocol": {
                    "type": "string"
                },
                "Logged": {
                    "type": "boolean"
                },
                "Notes": {
                    "type": "string"
                },
                "RuleTag": {
                    "type": "string"
                },
                "SourcesExcluded": {
                    "type": "boolean"
                },
                "AppliedTo": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "$ref": "#/definitions/AppliedToDefinition"
                    }
                },
                "Destination": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "$ref": "#/definitions/DestinationDefinition"
                    }
                },
                "Service": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "$ref": "#/definitions/ServiceDefinition"
                    }
                },
                "Source": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "$ref": "#/definitions/SourceDefinition"
                    }
                }
            },
            "required": [
                "Action"
            ]
        },
        "TagDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Scope": {
                    "type": "string"
                },
                "Tag": {
                    "type": "string"
                }
            },
            "required": []
        },
        "DestinationDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TargetId": {
                    "type": "string"
                },
                "TargetType": {
                    "type": "string"
                }
            },
            "required": []
        },
        "ServiceDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TargetId": {
                    "type": "string"
                },
                "TargetType": {
                    "type": "string"
                }
            },
            "required": []
        },
        "SourceDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TargetId": {
                    "type": "string"
                },
                "TargetType": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "Description": {
            "type": "string",
            "description": "Description of this rule.\n* `action` - (Required) Action enforced on the packets which matches the firewall rule. [Allowed values: \"ALLOW\", \"DROP\", \"REJECT\"]\n* `applied_to` - (Optional) List of objects where rule will be enforced. The section level field overrides this one. Null will be treated as any. [Supported target types: \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"LogicalRouterPort\"]\n* `destination` - (Optional) List of the destinations. Null will be treated as any. [Allowed target types: \"IPSet\", \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"MACSet\" (depending on the section type)]\n* `destinations_excluded` - (Optional) When this boolean flag is set to true, the rule destinations will be negated.\n* `direction` - (Optional) Rule direction in case of stateless firewall rules. This will only considered if section level parameter is set to stateless. Default to IN_OUT if not specified. [Allowed values: \"IN\", \"OUT\", \"IN_OUT\"]\n* `disabled` - (Optional) Flag to disable rule. Disabled will only be persisted but never provisioned/realized.\n* `ip_protocol` - (Optional) Type of IP packet that should be matched while enforcing the rule. [allowed values: \"IPV4\", \"IPV6\", \"IPV4_IPV6\"]\n* `logged` - (Optional) Flag to enable packet logging. Default is disabled.\n* `notes` - (Optional) User notes specific to the rule.\n* `rule_tag` - (Optional) User level field which will be printed in CLI and packet logs.\n* `service` - (Optional) List of the services. Null will be treated as any. [Allowed target types: \"NSService\", \"NSServiceGroup\"]\n* `source` - (Optional) List of sources. Null will be treated as any. [Allowed target types: \"IPSet\", \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"MACSet\" (depending on the section type)]\n* `sources_excluded` - (Optional) When this boolean flag is set to true, the rule sources will be negated."
        },
        "DisplayName": {
            "type": "string",
            "description": "The display name of this rule. Defaults to ID if not set.\n* `description` - (Optional) Description of this rule.\n* `action` - (Required) Action enforced on the packets which matches the firewall rule. [Allowed values: \"ALLOW\", \"DROP\", \"REJECT\"]\n* `applied_to` - (Optional) List of objects where rule will be enforced. The section level field overrides this one. Null will be treated as any. [Supported target types: \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"LogicalRouterPort\"]\n* `destination` - (Optional) List of the destinations. Null will be treated as any. [Allowed target types: \"IPSet\", \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"MACSet\" (depending on the section type)]\n* `destinations_excluded` - (Optional) When this boolean flag is set to true, the rule destinations will be negated.\n* `direction` - (Optional) Rule direction in case of stateless firewall rules. This will only considered if section level parameter is set to stateless. Default to IN_OUT if not specified. [Allowed values: \"IN\", \"OUT\", \"IN_OUT\"]\n* `disabled` - (Optional) Flag to disable rule. Disabled will only be persisted but never provisioned/realized.\n* `ip_protocol` - (Optional) Type of IP packet that should be matched while enforcing the rule. [allowed values: \"IPV4\", \"IPV6\", \"IPV4_IPV6\"]\n* `logged` - (Optional) Flag to enable packet logging. Default is disabled.\n* `notes` - (Optional) User notes specific to the rule.\n* `rule_tag` - (Optional) User level field which will be printed in CLI and packet logs.\n* `service` - (Optional) List of the services. Null will be treated as any. [Allowed target types: \"NSService\", \"NSServiceGroup\"]\n* `source` - (Optional) List of sources. Null will be treated as any. [Allowed target types: \"IPSet\", \"LogicalPort\", \"LogicalSwitch\", \"NSGroup\", \"MACSet\" (depending on the section type)]\n* `sources_excluded` - (Optional) When this boolean flag is set to true, the rule sources will be negated."
        },
        "Id": {
            "type": "string"
        },
        "InsertBefore": {
            "type": "string",
            "description": "Firewall section id that should come immediately after this one. It is user responsibility to use this attribute in consistent manner (for example, if same value would be set in two separate sections, the outcome would depend on order of creation). Changing this attribute would force recreation of the firewall section."
        },
        "IsDefault": {
            "type": "boolean"
        },
        "Revision": {
            "type": "number"
        },
        "SectionType": {
            "type": "string",
            "description": "Type of the rules which a section can contain. Either LAYER2 or LAYER3. Only homogeneous sections are supported."
        },
        "Stateful": {
            "type": "boolean",
            "description": "Stateful or Stateless nature of firewall section is enforced on all rules inside the section. Layer3 sections can be stateful or stateless. Layer2 sections can only be stateless."
        },
        "AppliedTo": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/AppliedToDefinition"
            }
        },
        "Rule": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/RuleDefinition"
            }
        },
        "Tag": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/TagDefinition"
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "SectionType",
        "Stateful"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id",
        "/properties/IsDefault",
        "/properties/Revision"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}