{
    "typeName": "TF::NSXT::LbCookiePersistenceProfile",
    "description": "Provides a resource to configure lb cookie persistence profile on NSX-T manager\n\n~> **NOTE:** This resource requires NSX version 2.3 or higher.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/nsxt/TF-NSXT-LbCookiePersistenceProfile/docs/README.md",
    "definitions": {
        "InsertModeParamsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "CookieDomain": {
                    "type": "string"
                },
                "CookieExpiryType": {
                    "type": "string"
                },
                "CookiePath": {
                    "type": "string"
                },
                "MaxIdleTime": {
                    "type": "number"
                },
                "MaxLifeTime": {
                    "type": "number"
                }
            },
            "required": []
        },
        "TagDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Scope": {
                    "type": "string"
                },
                "Tag": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "CookieFallback": {
            "type": "boolean",
            "description": "A boolean flag which reflects whether once the server points by this cookie is down, a new server is selected, or the requests will be rejected."
        },
        "CookieGarble": {
            "type": "boolean",
            "description": "A boolean flag which reflects whether the cookie value (server IP and port) would be encrypted or in plain text."
        },
        "CookieMode": {
            "type": "string",
            "description": "The cookie persistence mode. Accepted values: PREFIX, REWRITE and INSERT which is the default."
        },
        "CookieName": {
            "type": "string",
            "description": "cookie name."
        },
        "Description": {
            "type": "string",
            "description": "Description of this resource."
        },
        "DisplayName": {
            "type": "string",
            "description": "The display name of this resource. Defaults to ID if not set."
        },
        "Id": {
            "type": "string"
        },
        "PersistenceShared": {
            "type": "boolean",
            "description": "A boolean flag which reflects whether the cookie persistence is private or shared. When false (which is the default value), the cookie persistence is private to each virtual server and is qualified by the pool. If set to true, in cookie insert mode, cookie persistence could be shared across multiple virtual servers that are bound to the same pools."
        },
        "Revision": {
            "type": "number"
        },
        "InsertModeParams": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/InsertModeParamsDefinition"
            },
            "maxItems": 1
        },
        "Tag": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/TagDefinition"
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "CookieName"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id",
        "/properties/Revision"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}