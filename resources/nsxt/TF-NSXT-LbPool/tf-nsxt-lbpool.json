{
    "typeName": "TF::NSXT::LbPool",
    "description": "Provides a resource to configure Load Balancer Pool on NSX-T manager\n\n~> **NOTE:** This resource requires NSX version 2.3 or higher.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/nsxt/TF-NSXT-LbPool/docs/README.md",
    "definitions": {
        "MemberDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AdminState": {
                    "type": "string"
                },
                "BackupMember": {
                    "type": "boolean"
                },
                "DisplayName": {
                    "type": "string"
                },
                "IpAddress": {
                    "type": "string"
                },
                "MaxConcurrentConnections": {
                    "type": "number"
                },
                "Port": {
                    "type": "string"
                },
                "Weight": {
                    "type": "number"
                }
            },
            "required": [
                "IpAddress"
            ]
        },
        "MemberGroupDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "IpVersionFilter": {
                    "type": "string"
                },
                "LimitIpListSize": {
                    "type": "boolean"
                },
                "MaxIpListSize": {
                    "type": "number"
                },
                "Port": {
                    "type": "number"
                },
                "GroupingObject": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/GroupingObjectDefinition"
                    },
                    "maxItems": 1,
                    "minItems": 1
                }
            },
            "required": []
        },
        "SnatTranslationDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Ip": {
                    "type": "string"
                },
                "Type": {
                    "type": "string"
                }
            },
            "required": []
        },
        "TagDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Scope": {
                    "type": "string"
                },
                "Tag": {
                    "type": "string"
                }
            },
            "required": []
        },
        "GroupingObjectDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TargetId": {
                    "type": "string"
                },
                "TargetType": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "ActiveMonitorId": {
            "type": "string",
            "description": "Active health monitor Id. If one is not set, the active healthchecks will be disabled."
        },
        "Algorithm": {
            "type": "string",
            "description": "Load balancing algorithm controls how the incoming connections are distributed among the members. Supported algorithms are: ROUND_ROBIN, WEIGHTED_ROUND_ROBIN, LEAST_CONNECTION, WEIGHTED_LEAST_CONNECTION, IP_HASH."
        },
        "Description": {
            "type": "string",
            "description": "Description of this resource."
        },
        "DisplayName": {
            "type": "string",
            "description": "The display name of this resource. pool member name.\n* `ip_address` - (Required) Pool member IP address.\n* `max_concurrent_connections` - (Optional) To ensure members are not overloaded, connections to a member can be capped by the load balancer. When a member reaches this limit, it is skipped during server selection. If it is not specified, it means that connections are unlimited.\n* `port` - (Optional) If port is specified, all connections will be sent to this port. Only single port is supported. If unset, the same port the client connected to will be used, it could be overrode by default_pool_member_port setting in virtual server. The port should not specified for port range case.\n* `weight` - (Optional) Pool member weight is used for WEIGHTED_ROUND_ROBIN balancing algorithm. The weight value would be ignored in other algorithms."
        },
        "Id": {
            "type": "string"
        },
        "MinActiveMembers": {
            "type": "number",
            "description": "The minimum number of members for the pool to be considered active. This value is 1 by default."
        },
        "PassiveMonitorId": {
            "type": "string",
            "description": "Passive health monitor Id. If one is not set, the passive healthchecks will be disabled."
        },
        "Revision": {
            "type": "number"
        },
        "TcpMultiplexingEnabled": {
            "type": "boolean",
            "description": "TCP multiplexing allows the same TCP connection between load balancer and the backend server to be used for sending multiple client requests from different client TCP connections. Disabled by default."
        },
        "TcpMultiplexingNumber": {
            "type": "number",
            "description": "The maximum number of TCP connections per pool that are idly kept alive for sending future client requests. The default value for this is 6."
        },
        "Member": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/MemberDefinition"
            }
        },
        "MemberGroup": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/MemberGroupDefinition"
            },
            "maxItems": 1
        },
        "SnatTranslation": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/SnatTranslationDefinition"
            },
            "maxItems": 1
        },
        "Tag": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/TagDefinition"
            }
        }
    },
    "additionalProperties": false,
    "required": [],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id",
        "/properties/Revision"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}