{
    "typeName": "TF::Alicloud::DbInstance",
    "description": "Provides an RDS instance resource. A DB instance is an isolated database\nenvironment in the cloud. A DB instance can contain multiple user-created\ndatabases.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/alicloud/TF-Alicloud-DbInstance/docs/README.md",
    "definitions": {
        "TagsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "ParametersDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Value": {
                    "type": "string"
                }
            },
            "required": [
                "Name",
                "Value"
            ]
        },
        "TimeoutsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "Acl": {
            "type": "string"
        },
        "AutoRenew": {
            "type": "boolean",
            "description": "Whether to renewal a DB instance automatically or not. It is valid when instance_charge_type is `PrePaid`. Default to `false`."
        },
        "AutoRenewPeriod": {
            "type": "number",
            "description": "Auto-renewal period of an instance, in the unit of the month. It is valid when instance_charge_type is `PrePaid`. Valid value:[1~12], Default to 1."
        },
        "AutoUpgradeMinorVersion": {
            "type": "string",
            "description": "The upgrade method to use. Valid values:\n- Auto: Instances are automatically upgraded to a higher minor version.\n- Manual: Instances are forcibly upgraded to a higher minor version when the current version is unpublished."
        },
        "CaType": {
            "type": "string"
        },
        "ClientCaCert": {
            "type": "string"
        },
        "ClientCaEnabled": {
            "type": "number"
        },
        "ClientCertRevocationList": {
            "type": "string"
        },
        "ClientCrlEnabled": {
            "type": "number"
        },
        "ConnectionString": {
            "type": "string"
        },
        "DbInstanceStorageType": {
            "type": "string",
            "description": "The storage type of the instance. Valid values:\n- local_ssd: specifies to use local SSDs. This value is recommended.\n- cloud_ssd: specifies to use standard SSDs.\n- cloud_essd: specifies to use enhanced SSDs (ESSDs).\n- cloud_essd2: specifies to use enhanced SSDs (ESSDs).\n- cloud_essd3: specifies to use enhanced SSDs (ESSDs)."
        },
        "EncryptionKey": {
            "type": "string"
        },
        "Engine": {
            "type": "string",
            "description": "Database type. Value options: MySQL, SQLServer, PostgreSQL, and PPAS."
        },
        "EngineVersion": {
            "type": "string",
            "description": "Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/doc-detail/26228.htm) `EngineVersion`."
        },
        "ForceRestart": {
            "type": "boolean",
            "description": "Set it to true to make some parameter efficient when modifying them. Default to false."
        },
        "Id": {
            "type": "string"
        },
        "InstanceChargeType": {
            "type": "string",
            "description": "Valid values are `Prepaid`, `Postpaid`, Default to `Postpaid`. Currently, the resource only supports PostPaid to PrePaid."
        },
        "InstanceName": {
            "type": "string",
            "description": "The name of DB instance. It a string of 2 to 256 characters."
        },
        "InstanceStorage": {
            "type": "number",
            "description": "User-defined DB instance storage space. Value range:\n- [5, 2000] for MySQL/PostgreSQL/PPAS HA dual node edition;\n- [20,1000] for MySQL 5.7 basic single node edition;\n- [10, 2000] for SQL Server 2008R2;\n- [20,2000] for SQL Server 2012 basic single node edition\nIncrease progressively at a rate of 5 GB. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).\nNote: There is extra 5 GB storage for SQL Server Instance and it is not in specified `instance_storage`."
        },
        "InstanceType": {
            "type": "string",
            "description": "DB Instance type. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm)."
        },
        "MaintainTime": {
            "type": "string",
            "description": "Maintainable time period format of the instance: HH:MMZ-HH:MMZ (UTC time)."
        },
        "MonitoringPeriod": {
            "type": "number",
            "description": "The monitoring frequency in seconds. Valid values are 5, 60, 300. Defaults to 300."
        },
        "Period": {
            "type": "number",
            "description": "The duration that you will buy DB instance (in month). It is valid when instance_charge_type is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1."
        },
        "Port": {
            "type": "string"
        },
        "ReplicationAcl": {
            "type": "string"
        },
        "ResourceGroupId": {
            "type": "string"
        },
        "SecurityGroupId": {
            "type": "string",
            "description": "It has been deprecated from 1.69.0 and use `security_group_ids` instead."
        },
        "SecurityGroupIds": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            },
            "description": ", Available in 1.69.0+) The list IDs to join ECS Security Group. At most supports three security groups."
        },
        "SecurityIpMode": {
            "type": "string",
            "description": "Valid values are `normal`, `safety`, Default to `normal`. support `safety` switch to high security access mode."
        },
        "SecurityIps": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            },
            "description": "List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32])."
        },
        "ServerCert": {
            "type": "string"
        },
        "ServerKey": {
            "type": "string"
        },
        "SqlCollectorConfigValue": {
            "type": "number",
            "description": "The sql collector keep time of the instance. Valid values are `30`, `180`, `365`, `1095`, `1825`, Default to `30`."
        },
        "SqlCollectorStatus": {
            "type": "string",
            "description": "The sql collector status of the instance. Valid values are `Enabled`, `Disabled`, Default to `Disabled`."
        },
        "SslAction": {
            "type": "string",
            "description": "Actions performed on SSL functions, Valid values: `Open`: turn on SSL encryption; `Close`: turn off SSL encryption; `Update`: update SSL certificate. See more [engine and engineVersion limitation](https://www.alibabacloud.com/help/zh/doc-detail/26254.htm)."
        },
        "SslStatus": {
            "type": "string"
        },
        "Tags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/TagsDefinition"
            },
            "description": "A mapping of tags to assign to the resource.\n- Key: It can be up to 64 characters in length. It cannot begin with \"aliyun\", \"acs:\", \"http://\", or \"https://\". It cannot be a null string.\n- Value: It can be up to 128 characters in length. It cannot begin with \"aliyun\", \"acs:\", \"http://\", or \"https://\". It can be a null string."
        },
        "TdeStatus": {
            "type": "string",
            "description": "The TDE(Transparent Data Encryption) status. See more [engine and engineVersion limitation](https://www.alibabacloud.com/help/zh/doc-detail/26256.htm)."
        },
        "VswitchId": {
            "type": "string",
            "description": "The virtual switch ID to launch DB instances in one VPC. If there are multiple vswitches, separate them with commas."
        },
        "ZoneId": {
            "type": "string",
            "description": "The Zone to launch the DB instance. From version 1.8.1, it supports multiple zone.\nIf it is a multi-zone and `vswitch_id` is specified, the vswitch must in the one of them.\nThe multiple zone ID can be retrieved by setting `multi` to \"true\" in the data source `alicloud_zones`."
        },
        "ZoneIdSlaveA": {
            "type": "string"
        },
        "ZoneIdSlaveB": {
            "type": "string"
        },
        "Parameters": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/ParametersDefinition"
            }
        },
        "Timeouts": {
            "$ref": "#/definitions/TimeoutsDefinition"
        }
    },
    "additionalProperties": false,
    "required": [
        "Engine",
        "EngineVersion",
        "InstanceStorage",
        "InstanceType"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/ConnectionString",
        "/properties/Id",
        "/properties/Port",
        "/properties/SslStatus"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}