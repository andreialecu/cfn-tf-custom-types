{
    "typeName": "TF::Spotinst::OceanAws",
    "description": "Manages a Spotinst Ocean AWS resource.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/spotinst/TF-Spotinst-OceanAws/docs/README.md",
    "definitions": {
        "AutoscalerDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AutoHeadroomPercentage": {
                    "type": "number"
                },
                "AutoscaleCooldown": {
                    "type": "number"
                },
                "AutoscaleIsAutoConfig": {
                    "type": "boolean"
                },
                "AutoscaleIsEnabled": {
                    "type": "boolean"
                },
                "AutoscaleDown": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/AutoscaleDownDefinition"
                    },
                    "maxItems": 1
                },
                "AutoscaleHeadroom": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/AutoscaleHeadroomDefinition"
                    },
                    "maxItems": 1
                },
                "ResourceLimits": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/ResourceLimitsDefinition"
                    },
                    "maxItems": 1
                }
            },
            "required": []
        },
        "LoadBalancersDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Arn": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Type": {
                    "type": "string"
                }
            },
            "required": []
        },
        "ScheduledTaskDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ShutdownHours": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/ShutdownHoursDefinition"
                    },
                    "maxItems": 1
                },
                "Tasks": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/TasksDefinition"
                    }
                }
            },
            "required": []
        },
        "TagsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Key": {
                    "type": "string"
                },
                "Value": {
                    "type": "string"
                }
            },
            "required": [
                "Key",
                "Value"
            ]
        },
        "UpdatePolicyDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ShouldRoll": {
                    "type": "boolean"
                },
                "RollConfig": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/RollConfigDefinition"
                    },
                    "maxItems": 1
                }
            },
            "required": [
                "ShouldRoll"
            ]
        },
        "AutoscaleDownDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "EvaluationPeriods": {
                    "type": "number"
                },
                "MaxScaleDownPercentage": {
                    "type": "number"
                }
            },
            "required": []
        },
        "AutoscaleHeadroomDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "CpuPerUnit": {
                    "type": "number"
                },
                "GpuPerUnit": {
                    "type": "number"
                },
                "MemoryPerUnit": {
                    "type": "number"
                },
                "NumOfUnits": {
                    "type": "number"
                }
            },
            "required": []
        },
        "ResourceLimitsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MaxMemoryGib": {
                    "type": "number"
                },
                "MaxVcpu": {
                    "type": "number"
                }
            },
            "required": []
        },
        "ShutdownHoursDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "IsEnabled": {
                    "type": "boolean"
                },
                "TimeWindows": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "TimeWindows"
            ]
        },
        "TasksDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "CronExpression": {
                    "type": "string"
                },
                "IsEnabled": {
                    "type": "boolean"
                },
                "TaskType": {
                    "type": "string"
                }
            },
            "required": [
                "CronExpression",
                "IsEnabled",
                "TaskType"
            ]
        },
        "RollConfigDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "BatchSizePercentage": {
                    "type": "number"
                }
            },
            "required": [
                "BatchSizePercentage"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AssociatePublicIpAddress": {
            "type": "boolean",
            "description": "Configure public IP address allocation."
        },
        "Blacklist": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "Instance types not allowed in the Ocean cluster. Cannot be configured if `whitelist` is configured."
        },
        "ControllerId": {
            "type": "string",
            "description": "A unique identifier used for connecting the Ocean SaaS platform and the Kubernetes cluster. Typically, the cluster name is used as its identifier."
        },
        "DesiredCapacity": {
            "type": "number",
            "description": "The number of instances to launch and maintain in the cluster."
        },
        "DrainingTimeout": {
            "type": "number",
            "description": "The time in seconds, the instance is allowed to run while detached from the ELB. This is to allow the instance time to be drained from incoming TCP connections before terminating it, during a scale down operation."
        },
        "EbsOptimized": {
            "type": "boolean",
            "description": "Enable EBS optimized for cluster. Flag will enable optimized capacity for high bandwidth connectivity to the EB service for non EBS optimized instance types. For instances that are EBS optimized this flag will be ignored."
        },
        "FallbackToOndemand": {
            "type": "boolean",
            "description": "If not Spot instance markets are available, enable Ocean to launch On-Demand instances instead."
        },
        "GracePeriod": {
            "type": "number",
            "description": "The amount of time, in seconds, after the instance has launched to start checking its health."
        },
        "IamInstanceProfile": {
            "type": "string",
            "description": "The instance profile iam role."
        },
        "Id": {
            "type": "string"
        },
        "ImageId": {
            "type": "string",
            "description": "ID of the image used to launch the instances."
        },
        "KeyName": {
            "type": "string",
            "description": "The key pair to attach the instances."
        },
        "MaxSize": {
            "type": "number",
            "description": "The upper limit of instances the cluster can scale up to."
        },
        "MinSize": {
            "type": "number",
            "description": "The lower limit of instances the cluster can scale down to."
        },
        "Monitoring": {
            "type": "boolean",
            "description": "Enable detailed monitoring for cluster. Flag will enable Cloud Watch detailed monitoring (one minute increments). Note: there are additional hourly costs for this service based on the region used."
        },
        "Name": {
            "type": "string",
            "description": "Required if type is set to `CLASSIC`\n* `type` - (Required) Can be set to `CLASSIC` or `TARGET_GROUP`."
        },
        "Region": {
            "type": "string",
            "description": "The region the cluster will run in."
        },
        "RootVolumeSize": {
            "type": "number",
            "description": "The size (in Gb) to allocate for the root volume. Minimum `20`."
        },
        "SecurityGroups": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "One or more security group ids."
        },
        "SpotPercentage": {
            "type": "number",
            "description": "The percentage of Spot instances that would spin up from the `desired_capacity` number."
        },
        "SubnetIds": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "A comma-separated list of subnet identifiers for the Ocean cluster. Subnet IDs should be configured with auto assign public IP."
        },
        "UseAsTemplateOnly": {
            "type": "boolean",
            "description": "launch specification defined on the Ocean object will function only as a template for virtual node groups."
        },
        "UserData": {
            "type": "string",
            "description": "Base64-encoded MIME user data to make available to the instances."
        },
        "UtilizeCommitments": {
            "type": "boolean"
        },
        "UtilizeReservedInstances": {
            "type": "boolean",
            "description": "If Reserved instances exist, Ocean will utilize them before launching Spot instances."
        },
        "Whitelist": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "Instance types allowed in the Ocean cluster. Cannot be configured if `blacklist` is configured."
        },
        "Autoscaler": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/AutoscalerDefinition"
            },
            "maxItems": 1
        },
        "LoadBalancers": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/LoadBalancersDefinition"
            }
        },
        "ScheduledTask": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/ScheduledTaskDefinition"
            }
        },
        "Tags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/TagsDefinition"
            }
        },
        "UpdatePolicy": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/UpdatePolicyDefinition"
            },
            "maxItems": 1
        }
    },
    "additionalProperties": false,
    "required": [
        "SecurityGroups",
        "SubnetIds"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}