{
    "typeName": "TF::MongoDBAtlas::EncryptionAtRest",
    "description": "`mongodbatlas_encryption_at_rest` Allows management of encryption at rest for an Atlas project with one of the following providers:\n\n[Amazon Web Services Key Management Service](https://docs.atlas.mongodb.com/security-aws-kms/#security-aws-kms)\n[Azure Key Vault](https://docs.atlas.mongodb.com/security-azure-kms/#security-azure-kms)\n[Google Cloud KMS](https://docs.atlas.mongodb.com/security-gcp-kms/#security-gcp-kms)\n\nAfter configuring at least one Encryption at Rest provider for the Atlas project, Project Owners can enable Encryption at Rest for each Atlas cluster for which they require encryption. The Encryption at Rest provider does not have to match the cluster cloud service provider.\n\nAtlas does not automatically rotate user-managed encryption keys. Defer to your preferred Encryption at Rest provider\u2019s documentation and guidance for best practices on key rotation. Atlas automatically creates a 365-day key rotation alert when you configure Encryption at Rest using your Key Management in an Atlas projec...",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/mongodbatlas/TF-MongoDBAtlas-EncryptionAtRest/docs/README.md",
    "definitions": {
        "AwsKmsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "AzureKeyVaultDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "GoogleCloudKmsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AwsKms": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/AwsKmsDefinition"
            },
            "description": "Specifies AWS KMS configuration details and whether Encryption at Rest is enabled for an Atlas project."
        },
        "AzureKeyVault": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/AzureKeyVaultDefinition"
            },
            "description": "Specifies Azure Key Vault configuration details and whether Encryption at Rest is enabled for an Atlas project."
        },
        "GoogleCloudKms": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/GoogleCloudKmsDefinition"
            },
            "description": "Specifies GCP KMS configuration details and whether Encryption at Rest is enabled for an Atlas project."
        },
        "Id": {
            "type": "string"
        },
        "ProjectId": {
            "type": "string",
            "description": "The unique identifier for the project."
        }
    },
    "additionalProperties": false,
    "required": [
        "ProjectId"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/Id"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    },
    "writeOnlyProperties": [
        "/properties/AwsKms",
        "/properties/AzureKeyVault",
        "/properties/GoogleCloudKms"
    ]
}