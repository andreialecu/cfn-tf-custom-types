{
    "typeName": "TF::OCI::KmsKeyVersion",
    "description": "This resource provides the Key Version resource in Oracle Cloud Infrastructure Kms service.\n\nGenerates a new [KeyVersion](https://docs.cloud.oracle.com/iaas/api/#/en/key/latest/KeyVersion/) resource that provides new cryptographic\nmaterial for a master encryption key. The key must be in an `ENABLED` state to be rotated.\n\nAs a management operation, this call is subject to a Key Management limit that applies to the total number\nof requests across all  management write operations. Key Management might throttle this call to reject an\notherwise valid request when the total rate of management write operations exceeds 10 requests per second\nfor a given tenancy.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/oci/TF-OCI-KmsKeyVersion/docs/README.md",
    "definitions": {
        "ReplicaDetailsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ReplicationId": {
                    "type": "string"
                }
            }
        },
        "TimeoutsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "CompartmentId": {
            "type": "string"
        },
        "Id": {
            "type": "string"
        },
        "IsPrimary": {
            "type": "boolean"
        },
        "KeyId": {
            "type": "string",
            "description": "The OCID of the key."
        },
        "KeyVersionId": {
            "type": "string"
        },
        "ManagementEndpoint": {
            "type": "string",
            "description": "The service endpoint to perform management operations against. Management operations include 'Create,' 'Update,' 'List,' 'Get,' and 'Delete' operations. See Vault Management endpoint."
        },
        "PublicKey": {
            "type": "string"
        },
        "ReplicaDetails": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/ReplicaDetailsDefinition"
            }
        },
        "RestoredFromKeyId": {
            "type": "string"
        },
        "RestoredFromKeyVersionId": {
            "type": "string"
        },
        "State": {
            "type": "string"
        },
        "TimeCreated": {
            "type": "string"
        },
        "TimeOfDeletion": {
            "type": "string",
            "description": "(Updatable) An optional property for the deletion time of the key version, expressed in [RFC 3339](https://tools.ietf.org/html/rfc3339) timestamp format. Example: `2019-04-03T21:10:29.600Z`."
        },
        "VaultId": {
            "type": "string"
        },
        "Timeouts": {
            "$ref": "#/definitions/TimeoutsDefinition"
        }
    },
    "additionalProperties": false,
    "required": [
        "KeyId",
        "ManagementEndpoint"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/CompartmentId",
        "/properties/Id",
        "/properties/IsPrimary",
        "/properties/KeyVersionId",
        "/properties/PublicKey",
        "/properties/ReplicaDetails",
        "/properties/RestoredFromKeyId",
        "/properties/RestoredFromKeyVersionId",
        "/properties/State",
        "/properties/TimeCreated",
        "/properties/VaultId"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}