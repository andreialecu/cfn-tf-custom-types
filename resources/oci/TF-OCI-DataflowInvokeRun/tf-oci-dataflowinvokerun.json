{
    "typeName": "TF::OCI::DataflowInvokeRun",
    "description": "This resource provides the Invoke Run resource in Oracle Cloud Infrastructure Data Flow service.\n\nCreates a run for an application.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "documentationUrl": "https://github.com/iann0036/cfn-tf-custom-types/blob/docs/resources/oci/TF-OCI-DataflowInvokeRun/docs/README.md",
    "definitions": {
        "ConfigurationDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "DefinedTagsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "FreeformTagsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "MapKey": {
                    "type": "string"
                },
                "MapValue": {
                    "type": "string"
                }
            },
            "required": [
                "MapKey",
                "MapValue"
            ]
        },
        "ParametersDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Value": {
                    "type": "string"
                }
            },
            "required": [
                "Name",
                "Value"
            ]
        },
        "TimeoutsDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "ApplicationId": {
            "type": "string",
            "description": "The OCID of the associated application. If this value is set, then no value for the execute parameter is required. If this value is not set, then a value for the execute parameter is required, and a new application is created and associated with the new run."
        },
        "ArchiveUri": {
            "type": "string",
            "description": "An Oracle Cloud Infrastructure URI of an archive.zip file containing custom dependencies that may be used to support the execution a Python, Java, or Scala application. See https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/hdfsconnector.htm#uriformat."
        },
        "Arguments": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "The arguments passed to the running application as command line arguments.  An argument is either a plain text or a placeholder. Placeholders are replaced using values from the parameters map.  Each placeholder specified must be represented in the parameters map else the request (POST or PUT) will fail with a HTTP 400 status code.  Placeholders are specified as `Service Api Spec`, where `name` is the name of the parameter. Example:  `[ \"--input\", \"${input_file}\", \"--name\", \"John Doe\" ]` If \"input_file\" has a value of \"mydata.xml\", then the value above will be translated to `--input mydata.xml --name \"John Doe\"`."
        },
        "Asynchronous": {
            "type": "boolean",
            "description": "Flag to invoke run asynchronously. The default is true and Terraform provider will not wait for run resource to reach target state of `SUCCEEDED`, `FAILED` or `CANCELLED` before exiting. User must wait to perform operations that need resource to be in target states. Set this to false to override this behavior."
        },
        "ClassName": {
            "type": "string"
        },
        "CompartmentId": {
            "type": "string",
            "description": "(Updatable) The OCID of a compartment."
        },
        "Configuration": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/ConfigurationDefinition"
            },
            "description": "The Spark configuration passed to the running process. See https://spark.apache.org/docs/latest/configuration.html#available-properties Example: { \"spark.app.name\" : \"My App Name\", \"spark.shuffle.io.maxRetries\" : \"4\" } Note: Not all Spark properties are permitted to be set.  Attempting to set a property that is not allowed to be overwritten will cause a 400 status to be returned."
        },
        "DataReadInBytes": {
            "type": "string"
        },
        "DataWrittenInBytes": {
            "type": "string"
        },
        "DefinedTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/DefinedTagsDefinition"
            },
            "description": "(Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{\"Operations.CostCenter\": \"42\"}`."
        },
        "DisplayName": {
            "type": "string",
            "description": "A user-friendly name that does not have to be unique. Avoid entering confidential information. If this value is not specified, it will be derived from the associated application's displayName or set by API using fileUri's application file name."
        },
        "DriverShape": {
            "type": "string",
            "description": "The VM shape for the driver. Sets the driver cores and memory."
        },
        "Execute": {
            "type": "string",
            "description": "The input used for spark-submit command. For more details see https://spark.apache.org/docs/latest/submitting-applications.html#launching-applications-with-spark-submit. Supported options include ``--class``, ``--file``, ``--jars``, ``--conf``, ``--py-files``, and main application file with arguments. Example: ``--jars oci://path/to/a.jar,oci://path/to/b.jar --files oci://path/to/a.json,oci://path/to/b.csv --py-files oci://path/to/a.py,oci://path/to/b.py --conf spark.sql.crossJoin.enabled=true --class org.apache.spark.examples.SparkPi oci://path/to/main.jar 10`` Note: If execute is specified together with applicationId, className, configuration, fileUri, language, arguments, parameters during application create/update, or run create/submit, Data Flow service will use derived information from execute input only."
        },
        "ExecutorShape": {
            "type": "string",
            "description": "The VM shape for the executors. Sets the executor cores and memory."
        },
        "FileUri": {
            "type": "string"
        },
        "FreeformTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/FreeformTagsDefinition"
            },
            "description": "(Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{\"Department\": \"Finance\"}`."
        },
        "Id": {
            "type": "string"
        },
        "Language": {
            "type": "string"
        },
        "LifecycleDetails": {
            "type": "string"
        },
        "LogsBucketUri": {
            "type": "string",
            "description": "An Oracle Cloud Infrastructure URI of the bucket where the Spark job logs are to be uploaded. See https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/hdfsconnector.htm#uriformat."
        },
        "NumExecutors": {
            "type": "number",
            "description": "The number of executor VMs requested."
        },
        "OpcRequestId": {
            "type": "string"
        },
        "OwnerPrincipalId": {
            "type": "string"
        },
        "OwnerUserName": {
            "type": "string"
        },
        "PrivateEndpointDnsZones": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            }
        },
        "PrivateEndpointId": {
            "type": "string"
        },
        "PrivateEndpointMaxHostCount": {
            "type": "number"
        },
        "PrivateEndpointNsgIds": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            }
        },
        "PrivateEndpointSubnetId": {
            "type": "string"
        },
        "RunDurationInMilliseconds": {
            "type": "string"
        },
        "SparkVersion": {
            "type": "string",
            "description": "The Spark version utilized to run the application. This value may be set if applicationId is not since the Spark version will be taken from the associated application."
        },
        "State": {
            "type": "string"
        },
        "TimeCreated": {
            "type": "string"
        },
        "TimeUpdated": {
            "type": "string"
        },
        "TotalOcpu": {
            "type": "number"
        },
        "WarehouseBucketUri": {
            "type": "string",
            "description": "An Oracle Cloud Infrastructure URI of the bucket to be used as default warehouse directory for BATCH SQL runs. See https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/hdfsconnector.htm#uriformat."
        },
        "Parameters": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/ParametersDefinition"
            }
        },
        "Timeouts": {
            "$ref": "#/definitions/TimeoutsDefinition"
        }
    },
    "additionalProperties": false,
    "required": [
        "CompartmentId"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/ClassName",
        "/properties/DataReadInBytes",
        "/properties/DataWrittenInBytes",
        "/properties/FileUri",
        "/properties/Id",
        "/properties/Language",
        "/properties/LifecycleDetails",
        "/properties/OpcRequestId",
        "/properties/OwnerPrincipalId",
        "/properties/OwnerUserName",
        "/properties/PrivateEndpointDnsZones",
        "/properties/PrivateEndpointId",
        "/properties/PrivateEndpointMaxHostCount",
        "/properties/PrivateEndpointNsgIds",
        "/properties/PrivateEndpointSubnetId",
        "/properties/RunDurationInMilliseconds",
        "/properties/State",
        "/properties/TimeCreated",
        "/properties/TimeUpdated",
        "/properties/TotalOcpu"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "read": {
            "permissions": [
                "s3:GetObject"
            ]
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "lambda:InvokeFunction"
            ]
        },
        "list": {
            "permissions": [
                "s3:GetObject",
                "s3:ListBucket"
            ]
        }
    }
}